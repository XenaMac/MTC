@{
    ViewBag.Title = "Reports";
}
<link href="~/Content/themes/base/all.css" rel="stylesheet" />

<h2 class="col-lg-offset-2">@ViewBag.Title</h2>

<br />

<div ng-app="mtcApp">
    <div ng-controller="reportsController" ng-cloak>
        <div class="row">
            <div class="col-lg-6 col-lg-offset-2" ng-show="currentUserRoleName">
                <div role="tabpanel">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" ng-class="{active:currentUserRoleName !== 'TowContractor'}"><a href="#alarms" aria-controls="alarms" role="tab" data-toggle="tab" ng-hide="currentUserRoleName === 'TowContractor'">Alarm Reports</a></li>
                        <li role="presentation" ng-class="{active:currentUserRoleName === 'TowContractor'}"><a href="#incidents" aria-controls="incidents" role="tab" data-toggle="tab">Incident Reports</a></li>
                        <li role="presentation"><a href="#admin" aria-controls="admin" role="tab" data-toggle="tab" ng-show="currentUserRoleName === 'Admin' || currentUserRoleName === 'DataConsultant'">Administrative Reports</a></li>
                    </ul>
                </div>
                <!-- Tab panes -->
                <div class="tab-content">

                    @*Everyone has access except TowContractor*@
                    <div role="tabpanel" class="tab-pane fade in active" ng-class="{active:currentUserRoleName !== 'TowContractor'}" ng id="alarms" ng-disabled="currentUserRoleName!='TowContractor'">
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/LateOnPatrol" class="list-group-item active">
                                <h4 class="list-group-item-heading">Late On Patrol</h4>
                                <p class="list-group-item-text">Late On Patrol Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/EarlyOutOfService" class="list-group-item active">
                                <h4 class="list-group-item-heading">Early Out Of Service</h4>
                                <p class="list-group-item-text">Early Out Of Service Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/OffBeat" class="list-group-item active">
                                <h4 class="list-group-item-heading">Off Beat Alarms</h4>
                                <p class="list-group-item-text">Off Beat Alarms Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/Stationary" class="list-group-item active">
                                <h4 class="list-group-item-heading">Stationary Alarms</h4>
                                <p class="list-group-item-text">Stationary Alarms Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/GPSIssue" class="list-group-item active">
                                <h4 class="list-group-item-heading">GPS Issue Alarms</h4>
                                <p class="list-group-item-text">GPS Issue Alarms Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/LongBreak" class="list-group-item active">
                                <h4 class="list-group-item-heading">Long Break Alarms</h4>
                                <p class="list-group-item-text">Long Break Alarms Report</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/Overtime" class="list-group-item active">
                                <h4 class="list-group-item-heading">Overtime Alarms</h4>
                                <p class="list-group-item-text">Overtime Alarms Report</p>
                            </a>
                        </div>
                    </div>

                    @*Contractors only have access to this tab and only THEIR information*@
                    <div role="tabpanel" class="tab-pane fade in" ng-class="{active:currentUserRoleName === 'TowContractor'}" id="incidents">
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/DSR" class="list-group-item active">
                                <h4 class="list-group-item-heading">Daily Shift Report</h4>
                                <p class="list-group-item-text">Report of Incidents and associated Assists</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/AssistsLogged" class="list-group-item active">
                                <h4 class="list-group-item-heading">Assists Logged</h4>
                                <p class="list-group-item-text">Report of logged assists</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/WazeLogged" class="list-group-item active">
                                <h4 class="list-group-item-heading">WAZE Logged</h4>
                                <p class="list-group-item-text">Report of WAZE Messages</p>
                            </a>
                        </div>
                    </div>

                    @*Admin and DataConsultants only have access to this report*@
                    <div role="tabpanel" class="tab-pane fade in" id="admin" ng-disabled="currentUserRoleName !='Admin' || currentUserRoleName !='DataConsultant'">
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/SurveyResults" class="list-group-item active">
                                <h4 class="list-group-item-heading">Survey Results</h4>
                                <p class="list-group-item-text">Results of the MTC Motorist Survey</p>
                            </a>
                        </div>
                        <br />
                        <div class="list-group">
                            <a href="~/Reports/InvoiceSummary" class="list-group-item active">
                                <h4 class="list-group-item-heading">Invoice Summary</h4>
                                <p class="list-group-item-text">Invoice Summary broken out by month and beat</p>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{

    @Scripts.Render("~/bundles/appAngular")

    <script src="~/app/controllers/reportsController.js"></script>
    <script src="~/app/services/generalService.js"></script>

}
